<html>
  <head>
    <script src="../bower_components/lodash/dist/lodash.js"></script>
    <script src="../bower_components/ionic/release/js/ionic.bundle.js"></script>
    <script src="../bower_components/tv4/tv4.js"></script>
    <script src="../bower_components/objectpath/lib/ObjectPath.js"></script>
    <script src="../bower_components/angular-schema-form/dist/schema-form.js"></script>
    <script src="../bower_components/angular-schema-form-ionic/dist/ionic-decorator.js"></script>
    <script src="../bower_components/ion-autocomplete/dist/ion-autocomplete.js"></script>
    <script src="../dist/angular-schema-form-ionic-autocomplete.js"></script>

    <link href="../bower_components/ionic/release/css/ionic.css" rel="stylesheet">
    <link href="../bower_components/ion-autocomplete/dist/ion-autocomplete.css" rel="stylesheet">

    <script>
      angular
        .module('test', [ 'schemaForm', 'angularSchemaFormIonicAutocomplete' ])

        .controller('FormController', function($scope, $http, $location, $timeout, $q) {

          $scope.schema = {
            "type": "object",
            "properties": {
              "platforms": {
                "title": "Platform",
                "type": "string"
              }
            }
          };

          $scope.form = [
            {
              "key": "platforms",
              "type": "autocomplete",
              "maxSelectedItems": 1,
              "itemValueKey": "value",
              "itemViewValueKey": "name",
              "filterPropertiesMap": [
                {
                  "value": "windows-10",
                  "version": "10",
                  "os": "windows"
                },
                {
                  "value": "windows-8.1",
                  "version": "8.1",
                  "os": "windows"
                },
                {
                  "value": "osx-10.13",
                  "version": "10.13",
                  "os": "osx"
                },
                {
                  "value": "osx-10.12",
                  "version": "10.12",
                  "os": "osx"
                }
              ],
              "titleMap": [
                {
                  "value": "windows-10",
                  "name": "Windows 10"
                },
                {
                  "value": "windows-8.1",
                  "name": "Windows 8.1"
                },
                {
                  "value": "osx-10.13",
                  "name": "Mac OS X 10.13 High Sierra"
                },
                {
                  "value": "osx-10.12",
                  "name": "Mac OS X 10.12 High Sierra"
                }
              ]
            }
          ];

          $scope.model = {};

          $scope.debug = {schema: $scope.schema, form: $scope.form};
        });

    </script>
    <title>Testing angular-schema-form-search ASF addon</title>
  </head>

  <body ng-app="test">
    <div ng-controller="FormController">
      <div>
        <h1>Angular Schema Form Ionic</h1>
        <h2>Autocomplete Demo</h2>
        <form sf-schema="schema" sf-form="form" sf-model="model"></form>
      </div>

      <div class="wrapper">
        <h4>Model</h4>
        <pre>{{model | json}}</pre>

        <h4>Form</h4>
        <pre>{{debug.form | json}}</pre>

        <h4>Schema</h4>
        <pre>{{debug.schema | json}}</pre>
      </div>
    </div>
  </body>
</html>
